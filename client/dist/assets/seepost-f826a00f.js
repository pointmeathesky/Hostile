import{j as e,r as s,a as t,c as u,R as f}from"./client-6c7af3ad.js";import"./styles-4ed993c7.js";import{W as g}from"./windowFeed-006bef41.js";import{D as b}from"./Desktop-6148bd56.js";import"./VideoModal-64f77c60.js";import"./js.cookie-edb2da2a.js";import"./Post-24424945.js";const x=()=>{const[r,d]=s.useState(null),[m,n]=s.useState(!0),[i,l]=s.useState(null),h=window.location.search,c=new URLSearchParams(h).get("id");return s.useEffect(()=>{c?(async()=>{try{const o=await fetch(`/api/post/${c}`);if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const p=await o.json();d(p.data),n(!1)}catch(o){l(o.message),n(!1)}})():(l("Invalid Post ID"),n(!1))},[]),m?e("p",{children:"Loading..."}):i?t("p",{children:["Error: ",i]}):e("div",{children:r?t("div",{className:"",children:[t("div",{className:"flex-wrap text-center border-b border-black",children:[e("h1",{className:"text-2xl font-bold py-1",children:r.name}),e("p",{className:"text-md py-1",children:r.body}),t("p",{className:"text-gray-500 text-xs",children:[e("strong",{children:"Posted by: "}),r.belongsTo.username,e("strong",{children:" at:"})," ",new Date(r.createdAt).toLocaleString()]})]}),r.comments&&r.comments.length>0?e("ul",{children:r.comments.map(a=>e("li",{children:t("div",{className:"py-2",children:[t("p",{children:[t("strong",{children:[a.belongsTo.username,":"]})," ",a.body]}),t("p",{className:"text-gray-500 text-sm",children:[e("strong",{children:"Posted at:"})," ",new Date(a.createdAt).toLocaleString()]})]})},a.id))}):e("p",{className:"text-gray-500",children:"No Comments, make the first one"}),t("form",{action:"/api/makecomment",method:"post",children:[e("input",{type:"hidden",name:"postId",value:c}),e("textarea",{className:"border min-h-32 w-full",name:"comment",id:"comment",placeholder:"Make a Comment"}),e("button",{className:"w-full mt-2 px-2 bg-bargray border border-cus",type:"submit",children:"Submit Comment"})]})]}):e("p",{children:"No data found"})})},y=()=>e(b,{content:e(g,{content:e(x,{})})});u.createRoot(document.getElementById("root")).render(e(f.StrictMode,{children:e(y,{})}));
